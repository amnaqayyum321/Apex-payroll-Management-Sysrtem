<div class="user-form-wrapper">
  <div class="user-card">

    <div class="card-header">
      <h3>{{ isEditMode ? 'Update Candidate Application' : 'Create Candidate Application' }}</h3>
    </div>

    <div class="d-flex gap-2">
      <button class="reset-btn" (click)="resetForm()">
        <i class="fa fa-refresh"></i> Reset
      </button>
    </div>

    <div class="header-divider"></div>

    <form class="user-form">

      <!-- Code -->
      <div class="row">
        <div class="col-md-6">
          <label class="form-label">Application Code</label>
          <input type="text" class="form-control"
            [(ngModel)]="code" name="code"
            placeholder="Enter application code">
        </div>

        <div class="col-md-6">
          <label class="form-label">Application Date</label>
          <input type="date" class="form-control"
            [(ngModel)]="applicationDate"
            name="applicationDate">
        </div>
      </div>

      <!-- Candidate & Requisition -->
      <div class="row">
        <div class="col-md-6">
          <label class="form-label">Candidate</label>
          <select class="form-control"
            [(ngModel)]="candidatePublicId"
            name="candidate">
            <option value="">Select Candidate</option>
            <option *ngFor="let c of candidates"
              [value]="c.publicId">
             {{ c.firstName }} {{ c.lastName }}
            </option>
          </select>
        </div>

        <div class="col-md-6">
          <label class="form-label">Job Requisition</label>
          <select class="form-control"
            [(ngModel)]="requisitionPublicId"
            name="requisition">
            <option value="">Select Requisition</option>
            <option *ngFor="let r of requisitions"
              [value]="r.publicId">
              {{ r.title || r.name }}
            </option>
          </select>
        </div>
      </div>

      <!-- Expected DOJ + Remarks -->
      <div class="row">
        <div class="col-md-6">
          <label class="form-label">Expected DOJ</label>
          <input type="date" class="form-control"
            [(ngModel)]="expectedDoj"
            name="expectedDoj">
        </div>

        <div class="col-md-6">
          <label class="form-label">Remarks</label>
          <input type="text" class="form-control"
            [(ngModel)]="remarks"
            name="remarks"
            placeholder="Enter remarks">
        </div>
      </div>

      <!-- Buttons -->
      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="cancel()">Cancel</button>
        <button type="button" class="submit-btn"
          (click)="isEditMode ? updateApplication() : createApplication()">
          {{ isEditMode ? 'Update' : 'Create' }}
        </button>
      </div>

    </form>
  </div>
</div>